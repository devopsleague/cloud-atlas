.. _dl360+pi_one_machine:

=====================================
改造HP DL360集成树莓派实现集群一体机
=====================================

我最初在构建 :ref:`pi_cluster` 的时候，采用的是普通的千兆网络交换机连接多个树莓派，但是由于没有类似机架服务器这样的集成安装设备，所以树莓派多了以后非常散乱。所以我一直在想如何能够把树莓派装配成一体机，但是需要亚克力板或者金属加工能力，就一直没有实现。

最近购买了一台二手的 :ref:`hpe_dl360_gen9` ，机架服务器体积非常精简，但是同时由于不太可能将存储盘位全部用完，所以多余出一些服务器内部空间没有充分利用。我就考虑树莓派这样小巧的SOC设备，有没有可能插入到这种1U的机架服务器内部空间(磁盘位)，并且通过服务器的多网口网卡来构建Linux交换机，实现一种一体机。

是的，我的想法就是实现类似Oracle Exadata数据库一体机这样的云计算一体机。

.. note::

   类似 :ref:`hpe_dl360_gen9` 这样支持NVMe SSD的服务器，支持PCIe插槽直接添加NMMe M.2存储，并且现在技术支持split PCIe通道，可以实现在一个 PCIe 3.0 x16 上切分成4个 x4的通道，连接4个NVMe M.2 SSD存储，可以实现非常高密度节约空间的存储部署。除了不方便热插拔，其他都非常完美。

   这也使得昂贵的热插拔U.2存储没有用武之地，对于个人，不太可能购买大量的热插拔存储，所以节约出来的存储盘位空间，可以用于树莓派这样的小型设备。

   此外，Linux自身可以实现交换机功能，也是一项技术挑战，无需再购买外置交换机，也使得服务器整体非常紧凑。
